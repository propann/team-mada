# Project name used by docker compose (keeps volumes/networks isolated)
COMPOSE_PROJECT_NAME=az-stack

# Tenants handled by the stack (space-separated)
TENANTS="azoth maximus koff"

# PostgreSQL (one instance per tenant)
POSTGRES_IMAGE=postgres:15              # Image tag for PostgreSQL
POSTGRES_USER=az_admin                  # Admin user created at bootstrap
POSTGRES_PASSWORD=please-change-me      # Strong password required
POSTGRES_DB=az_platform                 # Default database name
POSTGRES_EXTRA_INIT=extensions=pgcrypto,uuid-ossp # Comma-separated extensions

# Redis
REDIS_IMAGE=redis:7-alpine              # Redis image
REDIS_PASSWORD=redis-change-me          # Password enforced via redis.conf

# n8n
N8N_IMAGE=n8nio/n8n:1.68.4              # n8n image tag
N8N_WEBHOOK_URL=http://127.0.0.1        # Public webhook base (update if behind proxy)
N8N_BASIC_AUTH_USER=admin               # Basic auth username
N8N_BASIC_AUTH_PASSWORD=super-please-change # Basic auth password
N8N_ENCRYPTION_KEY=set-a-32-char-key-here   # Encryption key for credentials (32 chars)

# Qdrant
QDRANT_IMAGE=qdrant/qdrant:v1.12.5      # Qdrant image tag
QDRANT_API_KEY=qdrant-please-change     # API key shared per tenant (or override per service)

# MinIO
MINIO_IMAGE=minio/minio:RELEASE.2024-10-02T17-50-41Z # MinIO image tag
MINIO_ROOT_USER=minioadmin              # Root user for all tenants
MINIO_ROOT_PASSWORD=minio-please-change # Root password (change!)
MINIO_API_PORT=9000                     # Base API port (per-tenant mapping in compose)
MINIO_CONSOLE_PORT=9001                 # Base console port (per-tenant mapping in compose)

# MQTT (Mosquitto)
MQTT_IMAGE=eclipse-mosquitto:2          # MQTT broker image
MQTT_PORT=1883                          # Host port binding

# Grafana & Prometheus
GRAFANA_IMAGE=grafana/grafana-oss:11.2.2    # Grafana image
PROMETHEUS_IMAGE=prom/prometheus:v2.55.1    # Prometheus image
PROMETHEUS_PORT=9090                    # Host port for Prometheus UI
GRAFANA_PORT=3000                       # Host port for Grafana UI

# Strudel server
STRUDEL_IMAGE=ghcr.io/strudeljs/strudel:latest # Strudel image tag
STRUDL_HTTP_PORT=8080                   # Host port for Strudel playground

# AI proxy (generic HTTP passthrough)
AI_PROXY_IMAGE=nginx:alpine             # Nginx-based proxy image
AI_PROXY_PORT=8081                      # Host port for proxy

# Embed service (toy embeddings endpoint)
EMBED_SERVICE_IMAGE=python:3.11-alpine  # Minimal Python runtime
EMBED_SERVICE_PORT=8082                 # Host port for embed service

# Paths on the host for persistent data
DATA_ROOT=./data                        # Where volumes are mounted on host
BACKUP_ROOT=./backups                   # Backup storage directory

# Monitoring/health checks
HEALTHCHECK_RETRIES=5                   # Curl retries in scripts
HEALTHCHECK_TIMEOUT=3                   # Timeout (seconds) per HTTP check
